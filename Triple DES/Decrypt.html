<!DOCTYPE html>
<html style="font-size: 16px;" lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>Decrypt</title>
    <link rel="stylesheet" href="css.css" media="screen">
<link rel="stylesheet" href="Decrypt.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" "="" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" "="" defer=""></script>
    <meta name="generator">
    <script src="./crypto-js.js"></script>
    <meta charset="UTF-8">
    <title>Decrypt</title>
    <link rel="stylesheet" href="./css/style.css">

    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "Triple DES"
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Decrypt">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
  </head>

  
  
  <body class="u-body u-overlap u-overlap-contrast u-overlap-transparent u-xl-mode" data-lang="en"><header class="u-clearfix u-gradient u-header u-header" id="sec-602d"><div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1.25rem; letter-spacing: 0px; font-weight: 700;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-spacing-20 u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-2-base u-text-body-alt-color u-text-hover-palette-1-base" href="Home.html" style="padding: 10px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-2-base u-text-body-alt-color u-text-hover-palette-1-base" href="Encrypt.html" style="padding: 10px;">Encrypt</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-2-base u-text-body-alt-color u-text-hover-palette-1-base" href="Decrypt.html" style="padding: 10px 10px 10px 10px;">Decrypt</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Encrypt.html">Encrypt</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Decrypt.html">Decrypt</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="u-clearfix u-image u-lightbox u-parallax u-shading u-section-1" id="sec-3b59" data-image-width="1200" data-image-height="900">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h1 class="u-align-center u-text u-text-default u-text-1">Decrypt your Picture</h1>
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-b2be"><div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">Mrunmay Mhatre</p>
      </div></footer>
    
      <div class="zone">
        <div id="dropZ">
          <i class="fa fa-cloud-upload"></i>
          <div>Drag and drop your file here</div>                    
          <span>OR</span>
          <div class="selectFile">       
            <label for="file">Select file</label>                   
            <input type="file" name="files[]" id="file" onchange="previewFile()">
          </div>
          <p>File size limit : 10 MB</p>
        </div>
      </div>
    
      <div class="zone-image">
        <textarea id="content" class="result" ></textarea>
        <label>
          <input type="text" id="secret" placeholder="Enter your secret key">
          <button onclick="decryptFromDES()">Decrypt</button>
        </label>   
      </div>


      <script>
        function previewFile() {
            const content = document.querySelector('.result');
            const [file] = document.querySelector('input[type=file]').files;
            const reader = new FileReader();
            reader.addEventListener("load", () => {
                content.innerText = reader.result;
            }, false);
    
            if (file) {
                reader.readAsText(file);
            }
        }
        function decryptFromDES() {
            var secretKey = document.getElementById('secret').value;
            if(secretKey != ''){
              var fileName = "decrypted_image";
              var encryptedText = document.getElementById('content').value;
              try {
                  var decryptedText = CryptoJS.TripleDES.decrypt(encryptedText, secretKey).toString(CryptoJS.enc.Utf8);
                  var element = document.createElement('a');
                  element.setAttribute('href', decryptedText);
                  element.setAttribute('download', fileName);
                  element.style.display = 'none';
                  document.body.appendChild(element);
                  element.click();
                  document.body.removeChild(element);
              }
              catch(err) {
                  alert("There is an error in your document or your secret key is wrong!");
              }
            }
            else {
              alert("Please enter your secret key!")
            }
        }
      </script>
  
</body></html>